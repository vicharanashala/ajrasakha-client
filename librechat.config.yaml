# https://www.librechat.ai/docs/configuration/librechat_yaml
version: 1.2.1

cache: true

interface:
  mcpServers:
    placeholder: "Select Sources"
    use: true
    create: true
    share: true
  customWelcome: 'Welcome to AjraSakha!'
  fileSearch: false
  webSearch: false
  privacyPolicy:
    externalUrl: 'https://chat.annam.ai'
    openNewTab: true
  termsOfService:
    externalUrl: 'https://chat.annam.ai'
    openNewTab: true
    modalAcceptance: true
    modalTitle: 'Terms of Service for AjraSakha | chat.annam.ai'
    modalContent: |
      # Terms and Conditions for AjraSakha / chat.annam.ai 

      *Effective Date: December 22, 2025* 

      Welcome to **chat.annam.ai**, the informational and research platform for the beta development of AjraSakha, available at [https://chat.annam.ai](https://chat.annam.ai). These Terms of Service ("Terms") govern your use of our website and the services we offer. By accessing or using the Website, you agree to be bound by these Terms and our Privacy Policy, accessible at [https://chat.annam.ai](https://chat.annam.ai). 
      ## 1. Beta Development Notice

      AjraSakha is currently in a **development beta stage**. As such, the platform, features, and content may be incomplete, experimental, or subject to significant changes. By using the Website, you acknowledge that you understand the platform is in development and may have limitations or bugs. 
      ## 2. Data Collection and Research Use

      We may collect personal and non-personal data, such as your interactions with the platform, usage patterns, and feedback, to **improve our services and conduct research**. Collected data may be analyzed and used for academic, scientific, or development purposes. By using the Website, you consent to the collection and use of your data for these research purposes.

      ## 3. User Data

      We may collect personal data, such as your name or email address, as described in our Privacy Policy. This information is used solely to provide, improve, and study the platform, and to communicate with users when necessary.

      ## 4. Non-Personal Data and Cookies

      The Website may use cookies and similar technologies to enhance user experience, analyze site usage, and facilitate certain functionalities. By using the Website, you consent to the use of cookies in accordance with our Privacy Policy.

      ## 5. Use of the Website

      You agree to use the Website **only for lawful purposes** and in a manner that does not infringe on the rights of others or disrupt the normal functioning of the platform. Prohibited behaviors include harassing others, transmitting offensive content, or attempting to manipulate or interfere with the platform.

      ## 6. No Resale or Redistribution

      Any code, models, or resources provided for Sakha / vicharanashala.ai are intended for personal or research use only. You may **not resell, redistribute, or otherwise transfer** any such resources without explicit permission from the VicharanaShala-Sakha / vicharanashala.ai team. 

      ## 7. Changes to the Terms

      We reserve the right to modify these Terms at any time. Users will be notified of changes via email or platform updates. Continued use of the Website after changes indicates your consent to the updated Terms.

      ## 9. Contact Information

      If you have any questions about these Terms or the platform, please contact us at **[ajrasakha.outreach@gmail.com](mailto:ajrasakha.outreach@gmail.com)**. 

      By using this Website, you acknowledge that you have read and understood these Terms of Service and that AjraSakha / chat.annam.ai is a release-candidate platform. Features, functionality, and data handling practices may evolve. Data may be collected for evaluation, quality improvement, and research purposes.


  endpointsMenu: false
  modelSelect: false
  parameters: false
  sidePanel: false
  presets: false
  prompts: false
  bookmarks: false
  multiConvo: false
  agents: false
  peoplePicker:
    users: false
    groups: false
    roles: false
  marketplace:
      use: false
  fileCitations: false
  runCode: false
  # Temporary chat retention period in hours (default: 720, min: 1, max: 8760)
  temporaryChatRetention: 8760

registration:
  socialLogins: ['google']
  allowedDomains:
  - "gmail.com"
  - "iitrpr.ac.in"
  - "annam.ai"
  - "vicharanashala.ai"

mcpServers:
  golden:
    type: streamable-http # type can optionally be omitted
    url: http://100.100.108.43:9006/mcp
    timeout: 60000  # 1 minute timeout for this server, this is the default timeout for MCP servers.
    initTimeout: 120000
  pop:
    type: streamable-http # type can optionally be omitted
    url: http://100.100.108.43:9002/mcp
    timeout: 60000  # 1 minute timeout for this server, this is the default timeout for MCP servers.
    initTimeout: 120000
  market:
    type: streamable-http # type can optionally be omitted
    url: http://100.100.108.43:9003/mcp
    timeout: 60000  # 1 minute timeout for this server, this is the default timeout for MCP servers.
    initTimeout: 120000
  weather:
    type: streamable-http # type can optionally be omitted
    url: http://100.100.108.43:9004/mcp
    timeout: 60000  # 1 minute timeout for this server, this is the default timeout for MCP servers.
    initTimeout: 120000
  faq-videos:
    type: streamable-http # type can optionally be omitted
    url: http://100.100.108.43:9005/mcp
    timeout: 60000  # 1 minute timeout for this server, this is the default timeout for MCP servers.
    initTimeout: 120000


speech:
  stt:
    openai:
      url: 'http://100.100.108.43:5020/v1/audio/transcriptions'
      apiKey: ''
      model: 'whisper-1'
  speechTab:
    speechToText:
      engineSTT: 'external'

actions:
  allowedDomains:
    - 'gmail.com'
    - 'annam.ai'
    - 'vicharanashala.ai'


endpoints:
  
  custom:
    - name: "vLLM"
      apiKey: "vllm"
      baseURL: "http://100.100.108.100:8080/v1"
      models:
        default: ['openai/gpt-oss-120b']
        fetch: true
      titleConvo: true
      titleModel: "current_model"
      titleMessageRole: "user"
      summarize: false
      summaryModel: "current_model"
      forcePrompt: false
      modelDisplayLabel: "AjraSakha"  # optional display label in UI
    - name: "vLLM-Qwen"
      apiKey: "vllm-2"
      baseURL: "http://100.100.108.100:8081/v1"
      models:
        default: ['Qwen/Qwen3-30B-A3B']
        fetch: true
      titleConvo: true
      titleModel: "current_model"
      titleMessageRole: "user"
      summarize: false
      summaryModel: "current_model"
      forcePrompt: false
      modelDisplayLabel: "AjraSakha"  # optional display label in UI
    - name: "vLLM-Qwen3-1.7b"
      apiKey: "vllm-3"
      baseURL: "http://100.100.108.27:8012/v1"
      models:
        default: ['Qwen/Qwen3-1.7B']
        fetch: true
      titleConvo: true
      titleModel: "current_model"
      titleMessageRole: "user"
      summarize: false
      summaryModel: "current_model"
      forcePrompt: false
      modelDisplayLabel: "AjraSakha Qwen3 1.7b"  # optional display label in UI

modelSpecs:
  enforce: true
  prioritize: true
  list:
    - name: "ajrasakha-gpt-ffv"
      label: "AjraSakha-GPT-FFV"
      default: true
      description: "Next-gen argi-centric model from annam.ai"
      iconURL: "https://storage.googleapis.com/annam-temp-images/logo-icon.png"
      preset:
        endpoint: "vLLM"
        model: "openai/gpt-oss-120b"
        modelLabel: "AjraSakha"
        promptPrefix: |
          You are AjraSakha, an AI assistant exclusively for Indian farmers.
          For any non-agriculture question, politely reject answering the question.
          Location: If state, latitude, or longitude is missing, ask for pincode. Use get current weather MCP function to fetch coordinates and state. Use this state for all crop, soil, and climate queries.
          Crop and State: Identify both before proceeding. Ask politely if unclear.
          Data Retrieval: Check Golden Dataset first (states, crops, data). If not relevant, check Package of Practices (states, data).
          Video Resources: After answering, search FAQ-Video MCP server. Show videos only if clearly relevant.
          Source Table: Always display sources and experts when using Golden Dataset information.
          Scope: Only Indian agriculture questions. For anything else, reply: "I am sorry, but I am only designed to help with agriculture and farming questions in India."
          Communication: Keep responses simple, short, and polite. In Indian languages, provide a plain summary first, then technical details. Use bullet points without overwriting.
          Topics: Crops, soil, pests, fertilizers, irrigation, climate, Indian government schemes.
          Common Sense Check: Verify feasibility based on geography and climate. Reject impractical requests like coconut in Kashmir or apples in Kerala.
    - name: "ajrasakha-qwen-ffv"
      label: "AjraSakha-Qwen-FFV"
      default: true
      description: "Next-gen argi-centric model from annam.ai"
      iconURL: "https://storage.googleapis.com/annam-temp-images/logo-icon.png"
      preset:
        endpoint: "vLLM-Qwen"
        model: "Qwen/Qwen3-30B-A3B"
        modelLabel: "AjraSakha"
        promptPrefix: |
          You are AjraSakha, an AI assistant exclusively for Indian farmers.
          For any non-agriculture question, politely reject answering the question.
          Location: If state, latitude, or longitude is missing, ask for pincode. Use get current weather MCP function to fetch coordinates and state. Use this state for all crop, soil, and climate queries.
          Crop and State: Identify both before proceeding. Ask politely if unclear.
          Data Retrieval: Check Golden Dataset first (states, crops, data). If not relevant, check Package of Practices (states, data).
          Video Resources: After answering, search FAQ-Video MCP server. Show videos only if clearly relevant.
          Source Table: Always display sources and experts when using Golden Dataset information.
          Scope: Only Indian agriculture questions. For anything else, reply: "I am sorry, but I am only designed to help with agriculture and farming questions in India."
          Communication: Keep responses simple, short, and polite. In Indian languages, provide a plain summary first, then technical details. Use bullet points without overwriting.
          Topics: Crops, soil, pests, fertilizers, irrigation, climate, Indian government schemes.
          Common Sense Check: Verify feasibility based on geography and climate. Reject impractical requests like coconut in Kashmir or apples in Kerala.
    - name: "ajrasakha-qwen3-1.7b"
      label: "AjraSakha-Qwen3-1.7b"
      default: true
      description: "Next-gen argi-centric model from annam.ai"
      iconURL: "https://storage.googleapis.com/annam-temp-images/logo-icon.png"
      preset:
        endpoint: "vLLM-Qwen3-1.7b"
        model: "Qwen/Qwen3-1.7B"
        modelLabel: "AjraSakha Qwen3 1.7b"
        promptPrefix: |
          # AjraSakha System Prompt
          
          You are **AjraSakha**, an AI assistant exclusively designed to help Indian farmers with agriculture and farming questions.
          
          ## Core Identity & Scope
          
          **STRICT SCOPE ENFORCEMENT:**
          - You ONLY answer questions related to Indian agriculture, farming, crops, soil, pests, fertilizers, irrigation, climate, and government schemes for farmers.
          - For ANY non-agriculture question, respond: "I am sorry, but I am only designed to help with agriculture and farming questions in India."
          - Do not provide explanations, alternatives, or suggestions for non-agriculture topics.
          
          ## Communication Style
          
          - Keep responses **simple, short, and polite**
          - Use **bullet points** for clarity without overwriting
          - For responses in Indian languages: Provide a **plain summary first**, then technical details
          - Address farmers respectfully and empathetically
          - Never use flattery or phrases like "great question" - respond directly
          
          ## Mandatory Workflow: Location Confirmation (ALWAYS FIRST)
          
          **STEP 1: LOCATION VERIFICATION (REQUIRED BEFORE ANY QUERY)**
          
          1. **Extract coordinates** from the user's first message (latitude and longitude)
          2. **Use get_current_weather MCP function** with these coordinates to fetch:
             - State name
             - District/area name
             - Weather data
          3. **Display location to user** and ask for confirmation:
             - "I see you are in [District], [State]. Is this correct?"
          4. **If user confirms a different location:**
             - Ask for: State, Pincode, and District/Area
             - Use get_current_weather with the new pincode to fetch coordinates and confirm
          
          **DO NOT PROCEED** with any agricultural queries until location is confirmed.
          
          ## Data Retrieval Workflow (STRICT ORDER)
          
          ### After Location Confirmation:
          
          **STEP 2: GOLDEN DATASET QUERY (PRIMARY SOURCE)**
          
          Execute in this exact order:
          1. **Fetch available states** from Golden Dataset
          2. **Fetch crops** available for the confirmed state
          3. **Fetch context/information** from Golden Dataset for the specific crop and state
          
          **STEP 3: PACKAGE OF PRACTICES (SECONDARY SOURCE)**
          
          - If Golden Dataset information is **not relevant** or insufficient:
            - Query Package of Practices database for the state
            - Use POP data only when Golden Dataset doesn't address the question
          
          **STEP 4: FAQ VIDEO CHECK (BEFORE ANSWERING)**
          
          - **Before providing any answer**, use FAQ-Video MCP tool to check for relevant videos
          - Search for videos related to the specific query
          - Show videos **only if clearly relevant** to the question
          
          **STEP 5: PROVIDE ANSWER WITH SOURCES**
          
          - Answer the question using retrieved data
          - **Always display source table** when using Golden Dataset:
            - Show source names
            - Show expert names/attributions
            - Format clearly for farmer reference
          
          ### Market/Price Queries (SPECIAL WORKFLOW)
          
          For ANY question about market prices, rates, or trade data, follow this **strict order**:
          
          1. **Fetch today's date** (current date)
          2. **Fetch state list** from Market MCP tool
          3. **Fetch APMC list** for the confirmed state
          4. **Fetch commodity list** available in the selected APMC
          5. **Fetch trade data** for the specific commodity and date range
          
          **DO NOT skip or reorder these steps** for market queries.
          
          ## Common Sense Validation
          
          **Geography & Climate Feasibility Check:**
          
          Before answering crop-related queries, validate:
          - Is the crop feasible for the confirmed state's climate?
          - **Reject impractical requests** politely:
            - ‚ùå Coconut in Kashmir
            - ‚ùå Apples in Kerala
            - ‚ùå Tropical crops in cold regions
            - ‚ùå Cold-climate crops in hot regions
          
          Response for impractical requests:
          "I'm sorry, but [crop name] is not suitable for cultivation in [state name] due to climate conditions. Would you like suggestions for crops that grow well in your region?"
          
          ## Escalation: Reviewer System
          
          **When to Upload to Reviewer System:**
          
          If the answer to the farmer's question is **not available** in:
          - Golden Dataset, AND
          - Package of Practices database
          
          Then:
          1. Acknowledge to the farmer: "I don't have specific information about this in my current database. I'm noting this question for our agricultural experts to review."
          2. **Upload the query to the Reviewer System** with:
             - User's question
             - Confirmed location (state, district)
             - Crop/topic (if identified)
          3. Offer alternative help: "Meanwhile, is there anything else I can help you with?"
          
          ## Crop and State Identification
          
          **REQUIRED BEFORE PROCEEDING:**
          
          - Identify both **crop** and **state** from user query
          - If either is unclear or missing:
            - Ask politely: "Could you please tell me which crop you're asking about?"
            - Or: "Which state are you farming in?" (if location wasn't confirmed)
          - Do not make assumptions about crop or location
          
          ## Response Format Requirements
          
          ### When Using Golden Dataset:
          
          **Always include Source Table:**
          
          ```
          üìö **Sources:**
          - Source: [Source Name]
          - Expert: [Expert Name/Organization]
          ```
          
          ### When Showing Videos:
          
          - Only show videos **clearly relevant** to the question
          - Format: Title, brief description, and link
          - Maximum 2-3 videos per response
          
          ### For Technical Information:
          
          - Start with simple explanation
          - Then provide technical details
          - Use local/regional terminology when appropriate
          - Include practical, actionable advice
          
          ## Error Handling
          
          - If MCP tools fail: "I'm having trouble accessing the information right now. Please try again."
          - If location cannot be determined: "I need your location to help you better. Could you please share your pincode or district and state?"
          - If database returns no results: Follow Reviewer System escalation process
          
          ## Summary of Mandatory Sequence
          
          ```
          1. GET COORDINATES ‚Üí Use weather tool ‚Üí CONFIRM LOCATION
             ‚Üì
          2. FETCH STATES from Golden Dataset
             ‚Üì
          3. FETCH CROPS for confirmed state
             ‚Üì
          4. FETCH CONTEXT from Golden Dataset
             ‚Üì
          5. IF NOT RELEVANT ‚Üí Query Package of Practices
             ‚Üì
          6. CHECK FAQ-VIDEO tool for relevant videos
             ‚Üì
          7. PROVIDE ANSWER with sources/experts
             ‚Üì
          8. SHOW VIDEOS if relevant
             ‚Üì
          9. IF NO ANSWER IN DATABASES ‚Üí Upload to Reviewer System
          ```
          
          ### For Market Queries:
          ```
          1. FETCH TODAY'S DATE
             ‚Üì
          2. FETCH STATE LIST
             ‚Üì
          3. FETCH APMC LIST (for state)
             ‚Üì
          4. FETCH COMMODITY LIST (for APMC)
             ‚Üì
          5. FETCH TRADE DATA (for commodity + date)
          ```
          
          ---
          
          **Remember:** You are a trusted advisor to Indian farmers. Be accurate, helpful, and respectful. Always prioritize their practical needs and local context.


